
<!doctype html>
<html>
<head>
  <meta charset="utf-8">

  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <!-- REPLACE X WITH PRODUCT NAME -->
  <title>hawq_toolkit Reference | Pivotal HD/PCC/ADS Documentation</title>
  <!-- Local CSS stylesheets -->
  <link href="/stylesheets/master.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/breadcrumbs.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/search.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/portal-style.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/printable.css" media="print" rel="stylesheet" type="text/css" /> 
  <!-- Confluence HTML stylesheet -->
  <link href="/stylesheets/site-conf.css" media="screen,print" rel="stylesheet"  type="text/css" /> 
  <!-- Left-navigation code -->
  <!-- http://www.designchemical.com/lab/jquery-vertical-accordion-menu-plugin/examples/# -->
  <link href="/stylesheets/dcaccordion.css" rel="stylesheet" type="text/css" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.cookie.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.hoverIntent.minified.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.dcjqaccordion.2.7.min.js" type="text/javascript"></script>
  <script type="text/javascript">
                    $(document).ready(function($){
					$('#accordion-1').dcAccordion({
						eventType: 'click',
						autoClose: true,
						saveState: true,
						disableLink: false,
						speed: 'fast',
						classActive: 'test',
						showCount: false
					});
					});
  </script>
  
  <link href="/stylesheets/grey.css" rel="stylesheet" type="text/css" /> 
  <!-- End left-navigation code -->
  <script src="/javascripts/all.js" type="text/javascript"></script>
  <link href='http://www.gopivotal.com/misc/favicon.ico' rel='shortcut icon'>
</head>

<body class="pivotalcf pivotalcf_getstarted pivotalcf_getstarted_index">
  <div class="viewport">
    <div class="mobile-navigation--wrapper mobile-only">
      <div class="navigation-drawer--container">
        <div class="navigation-item-list">
          <div class="navbar-link active">
            <a href="http://gopivotal.com">
              Home
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/paas">
              PaaS
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/big-data">
              Big Data
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/agile">
              Agile
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/support">
              Help &amp; Support
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/products">
              Products
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/solutions">
              Solutions
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/partners">
              Partners
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="mobile-nav">
        <div class="nav-icon js-open-nav-drawer">
          <i class="icon-reorder"></i>
        </div>
        <div class="header-center-icon">
          <a href="http://gopivotal.com">
            <div class="icon icon-pivotal-logo-mobile"></div>
          </a>
        </div>
      </div>
    </div>

    <div class='wrap'>
      <script src="//use.typekit.net/clb0qji.js" type="text/javascript"></script>
      <script type="text/javascript">
          try {
              Typekit.load();
          } catch (e) {
          }
      </script>
      <script type="text/javascript">
          document.domain = "gopivotal.com";
      </script>
      <div id="search-dropdown-box">
        <div class="search-dropdown--container js-search-dropdown">
          <div class="container-fluid">
            <div class="close-menu-large"><img src="http://www.gopivotal.com/sites/all/themes/gopo13/images/icon-close.png" /></div>
            <div class="search-form--container">
              <div class="form-search">
                <div class='gcse-search'></div>
                <script src="http://www.google.com/jsapi" type="text/javascript"></script>
                <script src="/javascripts/cse.js" type="text/javascript"></script>
              </div>
            </div>
          </div>
        </div>
      </div>

      <header class="navbar desktop-only" id="nav">
        <div class="navbar-inner">
            <div class="container-fluid">
                <div class="pivotal-logo--container">
                    <a class="pivotal-logo" href="http://gopivotal.com"><span></span></a>
                </div>

                <ul class="nav pull-right">
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/paas" id="paas-nav-link">PaaS</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/big-data" id="big-data-nav-link">BIG DATA</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/agile" id="agile-nav-link">AGILE</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/oss" id="oss-nav-link">OSS</a>
                    </li>
                    <li class="nav-search">
                        <a class="js-search-input-open" id="click-to-search"><span></span></a>
                    </li>
                </ul>
            </div>
            <a href="http://www.gopivotal.com/contact">
                <img id="get-started" src="http://www.gopivotal.com/sites/all/themes/gopo13/images/get-started.png">
            </a>
        </div>
      </header>
      <div class="main-wrap">
        <div class="container-fluid">

          <!-- Google CSE Search Box -->
          <div id='docs-search'>
              <gcse:search></gcse:search>
          </div>
          
          <div id='all-docs-link'>
            <a href="http://docs.gopivotal.com/">All Documentation</a>
          </div>
          
          <div class="container">
            <div id="sub-nav" class="nav-container">              
              
              <!-- Collapsible left-navigation-->
			  <ul class="accordion"  id="accordion-1">
				  <!-- REPLACE <li/> NODES-->

                        <li>
                <a href="index.html">Home</a>
                        </li>

                        <li>
                <a href="PivotalHD.html">Pivotal HD 1.1.1</a>

                            <ul>
                    <li>
                <a href="PHDEnterprise1.1.1ReleaseNotes.html">PHD Enterprise 1.1.1 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDServiceBrokerforPivotalCFv1.0.0.0.html">PHD Service Broker for Pivotal CF v1.0.0.0</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDInstallationandAdministration.html">PHD Installation and Administration</a>

                            <ul>
                    <li>
                <a href="OverviewofPHD.html">Overview of PHD</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingPHDUsingtheCLI.html">Installing PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UpgradingPHDUsingtheCLI.html">Upgrading PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="AdministeringPHDUsingtheCLI.html">Administering PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDFAQFrequentlyAskedQuestions.html">PHD FAQ (Frequently Asked Questions)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDTroubleshooting.html">PHD Troubleshooting</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="StackandToolsReference.html">Stack and Tools Reference</a>

                            <ul>
                    <li>
                <a href="OverviewofApacheStackandPivotalComponents.html">Overview of Apache Stack and Pivotal Components</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHD1.1.1Stack-RPMPackage.html">PHD 1.1.1 Stack - RPM Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHD1.1.1Stack-BinaryPackage.html">PHD 1.1.1 Stack - Binary Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDMR11.1Stack-RPMPackage.html">PHD MR1 1.1 Stack - RPM Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDMR11.1Stack-BinaryPackage.html">PHD MR1 1.1 Stack - Binary Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDStack-OtherComponents.html">PHD Stack - Other Components</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="USSUnifiedStorageSystem.html">USS (Unified Storage System)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HVEHadoopVirtualizationExtensions.html">HVE (Hadoop Virtualization Extensions)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="Security.html">Security</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManuallyUpgradingPHDfrom1.1to1.1.1-RPM.html">Manually Upgrading PHD from 1.1 to 1.1.1 - RPM</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary.html">Manually Upgrading PHD from 1.1 to 1.1.1 - Binary</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderInstallationandUsage.html">DataLoader Installation and Usage</a>

                            <ul>
                    <li>
                <a href="OverviewofDataLoader.html">Overview of DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingandConfiguringDataLoader.html">Installing and Configuring DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UsingDataLoader.html">Using DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="LoadingFilesandPushStreamsintoHAWQUsingPXF.html">Loading Files and Push Streams into HAWQ Using PXF</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderCommandLineInterface.html">DataLoader Command Line Interface</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderCopyStrategyandTransferPolicy.html">DataLoader Copy Strategy and Transfer Policy</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="JobTransferSpecification.html">Job (Transfer) Specification</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataStores.html">Data Stores</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ConfiguringFlumeforDataLoaderPushStreaming.html">Configuring Flume for DataLoader Push Streaming</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderInstallationfromBinaries.html">DataLoader Installation from Binaries</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
                        <li>
                <a href="PivotalCommandCenter.html">Pivotal Command Center 2.1.1</a>

                            <ul>
                    <li>
                <a href="PCC2.1.1ReleaseNotes.html">PCC 2.1.1 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PCCUserGuide.html">PCC User Guide</a>

                            <ul>
                    <li>
                <a href="PCCOverview.html">PCC Overview</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingPCC.html">Installing PCC</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UsingPCC.html">Using PCC</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="CreatingaYUMEPELRepository.html">Creating a YUM EPEL Repository</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="CommandLineReference.html">Command Line Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
                        <li>
                <a href="PivotalAdvancedDatabaseServices.html">Pivotal Advanced Database Services 1.1.4</a>

                            <ul>
                    <li>
                <a href="PADS1.1.4ReleaseNotes.html">PADS 1.1.4 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQInstallation.html">HAWQ Installation</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQAdministration.html">HAWQ Administration</a>

                            <ul>
                    <li>
                <a href="HAWQOverview.html">HAWQ Overview</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQQueryProcessing.html">HAWQ Query Processing</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="QueryingData.html">Querying Data</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ConfiguringClientAuthentication.html">Configuring Client Authentication</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="KerberosAuthentication.html">Kerberos Authentication</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQInputFormatforMapReduce.html">HAWQ InputFormat for MapReduce</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="SQLCommandReference.html">SQL Command Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManagementUtilityReference.html">Management Utility Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ClientUtilityReference.html">Client Utility Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ServerConfigurationParameters.html">Server Configuration Parameters</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQEnvironmentVariables.html">HAWQ Environment Variables</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQDataTypes.html">HAWQ Data Types</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="MADlibReferences.html">MADlib References</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="hawq_toolkitReference.html">hawq_toolkit Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="PivotalExtensionFrameworkPXF.html">Pivotal Extension Framework (PXF)</a>

                            <ul>
                    <li>
                <a href="PXFInstallationandAdministration.html">PXF Installation and Administration</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PXFExternalTableandAPIReference.html">PXF External Table and API Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
              </ul>        
              
            </div><!--end of sub-nav-->
            <div class="body-container content">

              <!-- Python script replaces main content -->
			  <div id ="main"><h1>hawq_toolkit Reference</h1><div class="wiki-content group" id="main-content">
<p>Pivotal provides an administrative schema called <em>hawq_toolkit </em><span style="font-size: medium;"> </span>that you can use to query the system catalogs, log files, and operating environment for system status information. The<em> hawq_toolkit </em><span style="font-size: medium;"> </span>schema contains a number of views that you can access using SQL commands. The<em> hawq_toolkit </em><span style="font-size: medium;"> </span>schema is accessible to all database users, although some objects may require superuser permissions. For convenience, you may want to add the <em>hawq_toolkit </em><span style="font-size: medium;"> </span>schema to your schema search path. For example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">=&gt; ALTER ROLE myrole SET search_path TO my schema,hawq_toolkit;</pre>
</div></div><p>This topic describes the HAWQ administrative schema views and their usages.</p><ul><li>Viewing HAWQ Database Server Log Files</li><li>Checking for Tables that Require Routine Maintenance</li><li>Checking Database Object Sizes and Disk Space</li></ul><h2 id="hawq_toolkitReference-ViewingHAWQDatabaseServerLogFiles">Viewing HAWQ Database Server Log Files</h2><p>Each component of a HAWQ Database system (master, standby master and primary segments) keeps its own server log files, The hawq_log_* family of views allows you to issue SQL queries against the server log files to find particular entries of interest. The user of these views require superuser permissions.</p><h3 id="hawq_toolkitReference-hawq_log_command_timings">hawq_log_command_timings</h3><p>This view uses an external table to read the log files on the master and report the execution time of SQL commands executed in a database session. The user of this view requires superuser permissions.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd" colspan="1">logsession</td><td class="confluenceTd" colspan="1">The session identifier (prefixed with "con").</td></tr><tr><td class="confluenceTd" colspan="1">logcmdcount</td><td class="confluenceTd" colspan="1">The command number within a session (prefixed with "cmd").</td></tr><tr><td class="confluenceTd" colspan="1">logdatabase</td><td class="confluenceTd" colspan="1">The name of the database.</td></tr><tr><td class="confluenceTd" colspan="1">loguser</td><td class="confluenceTd" colspan="1">The name of the database user.</td></tr><tr><td class="confluenceTd" colspan="1">logpid</td><td class="confluenceTd" colspan="1">The process id (prefixed with "p").</td></tr><tr><td class="confluenceTd">logtimemin</td><td class="confluenceTd">The time of the first log message for this command.</td></tr><tr><td class="confluenceTd">logtimemax</td><td class="confluenceTd">The time of the last log message for this command.</td></tr><tr><td class="confluenceTd">logduration</td><td class="confluenceTd">Statement duration from start to end time.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_log_database">hawq_log_database</h3><p>This view uses an external table to read log files of the entire HAWQ system (master and segments) and lists log entries associated with the current database. Associated log entries can be identified by the session id (<em>logsession</em>) and command id (<em>logcmdcount</em>). The use of this view requires superuser permissions.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">logtime</td><td class="confluenceTd">The timestamp of the log message.</td></tr><tr><td class="confluenceTd">loguser</td><td class="confluenceTd">The name of the database user.</td></tr><tr><td class="confluenceTd">logdatabase</td><td class="confluenceTd">The name of the database.</td></tr><tr><td class="confluenceTd">logpid</td><td class="confluenceTd">The associated process id (prefixed with "p").</td></tr><tr><td class="confluenceTd" colspan="1">logthread</td><td class="confluenceTd" colspan="1">The associated thread count (prefixed with "th").</td></tr><tr><td class="confluenceTd" colspan="1">loghost</td><td class="confluenceTd" colspan="1">The segment or master host name.</td></tr><tr><td class="confluenceTd" colspan="1">logport</td><td class="confluenceTd" colspan="1">The segment or master port.</td></tr><tr><td class="confluenceTd" colspan="1">logsessiontime</td><td class="confluenceTd" colspan="1">Time session connection was opened.</td></tr><tr><td class="confluenceTd" colspan="1">logtransaction</td><td class="confluenceTd" colspan="1">Global transaction id.</td></tr><tr><td class="confluenceTd" colspan="1">logsession</td><td class="confluenceTd" colspan="1">The session identifier (prefixed with "con").</td></tr><tr><td class="confluenceTd" colspan="1">logcmdcount</td><td class="confluenceTd" colspan="1">The command number with in a session (prefixed with "cmd").</td></tr><tr><td class="confluenceTd" colspan="1">logsegment</td><td class="confluenceTd" colspan="1">The segment content identifier (prefixed with "seg". The master always has a content id of -1).</td></tr><tr><td class="confluenceTd" colspan="1">logslice</td><td class="confluenceTd" colspan="1">The slice id (portion of the query plan being executed).</td></tr><tr><td class="confluenceTd" colspan="1">logdistxact</td><td class="confluenceTd" colspan="1">Distributed transaction id.</td></tr><tr><td class="confluenceTd" colspan="1">loglocalxact</td><td class="confluenceTd" colspan="1">Local transaction id.</td></tr><tr><td class="confluenceTd" colspan="1">logsubxact</td><td class="confluenceTd" colspan="1">Sub<span>transaction</span> id.</td></tr><tr><td class="confluenceTd" colspan="1">logseverity</td><td class="confluenceTd" colspan="1">LOG, ERROR, FATAL, PANIC, DEBUG1 or DEBUG2.</td></tr><tr><td class="confluenceTd" colspan="1">logstate</td><td class="confluenceTd" colspan="1">SQL state code associated with the log message.</td></tr><tr><td class="confluenceTd" colspan="1">logmessage</td><td class="confluenceTd" colspan="1">Log or error message text.</td></tr><tr><td class="confluenceTd" colspan="1">logdetail</td><td class="confluenceTd" colspan="1">Detail message test associated with an error message.</td></tr><tr><td class="confluenceTd" colspan="1">loghint</td><td class="confluenceTd" colspan="1">Hint <span>message test associated with an error message.</span></td></tr><tr><td class="confluenceTd" colspan="1">logquery</td><td class="confluenceTd" colspan="1">The internally-generated query text.</td></tr><tr><td class="confluenceTd" colspan="1">logquerypos</td><td class="confluenceTd" colspan="1">The cursor index into the internally-generated query text.</td></tr><tr><td class="confluenceTd" colspan="1">logcontext</td><td class="confluenceTd" colspan="1">The context in which this message gets generated.</td></tr><tr><td class="confluenceTd" colspan="1">logdebug</td><td class="confluenceTd" colspan="1">Query string with full detail for debugging.</td></tr><tr><td class="confluenceTd" colspan="1">logcursorpos</td><td class="confluenceTd" colspan="1">The cursor index into the query string.</td></tr><tr><td class="confluenceTd" colspan="1">logfunction</td><td class="confluenceTd" colspan="1">The function in which this message is generated.</td></tr><tr><td class="confluenceTd" colspan="1">logfile</td><td class="confluenceTd" colspan="1">The log file in which this message is generated.</td></tr><tr><td class="confluenceTd" colspan="1">logline</td><td class="confluenceTd" colspan="1">The line in the log file in which this message is generated.</td></tr><tr><td class="confluenceTd" colspan="1">logstack</td><td class="confluenceTd" colspan="1">Full text of the stack trace associated with this message.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_log_master_concise">hawq_log_master_concise</h3><p>This view uses an external table to read a subset of the log fields from the master log files. The use of this view requires superuser permissions.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">logtime</td><td class="confluenceTd">The timestamp of the log message.</td></tr><tr><td class="confluenceTd">logdatabase</td><td class="confluenceTd">The name of the database.</td></tr><tr><td class="confluenceTd">logsession</td><td class="confluenceTd">The session identifier (prefixed with "con").</td></tr><tr><td class="confluenceTd">logcmdcount</td><td class="confluenceTd">The command number within a session (prefixed with "cmd").</td></tr><tr><td class="confluenceTd" colspan="1">logseverity</td><td class="confluenceTd" colspan="1">LOG, ERROR, FATAL, PANIC, DEBUG1, DEBUG2.</td></tr><tr><td class="confluenceTd" colspan="1">logmessage</td><td class="confluenceTd" colspan="1">Log or error message text.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_log_system">hawq_log_system</h3><p>This view uses an external table to read the server log files of the entire HAWQ system (master and segments) and lists all log entries. Associated log entries can be identified by session id (<em>logsession</em>) and command id (<em>logcmdcount</em>). The use of this view requires superuser permissions.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">logtime</td><td class="confluenceTd">The timestamp of the log message.</td></tr><tr><td class="confluenceTd">loguser</td><td class="confluenceTd">The name of the database user.</td></tr><tr><td class="confluenceTd">logdatabase</td><td class="confluenceTd">The name of the database.</td></tr><tr><td class="confluenceTd">logpid</td><td class="confluenceTd">The associated process id (prefixed with "p").</td></tr><tr><td class="confluenceTd" colspan="1">logthread</td><td class="confluenceTd" colspan="1">The associated thread count (prefixed with "th").</td></tr><tr><td class="confluenceTd" colspan="1">loghost</td><td class="confluenceTd" colspan="1">The segment or master host name.</td></tr><tr><td class="confluenceTd" colspan="1">logport</td><td class="confluenceTd" colspan="1">The segment or master port.</td></tr><tr><td class="confluenceTd" colspan="1">logsessiontime</td><td class="confluenceTd" colspan="1">Time session connection was opened.</td></tr><tr><td class="confluenceTd" colspan="1">logtransaction</td><td class="confluenceTd" colspan="1">Global transaction id.</td></tr><tr><td class="confluenceTd" colspan="1">logsession</td><td class="confluenceTd" colspan="1">The session identifier (prefixed with "con").</td></tr><tr><td class="confluenceTd" colspan="1">logcmdcount</td><td class="confluenceTd" colspan="1">The command number with in a session (prefixed with "cmd").</td></tr><tr><td class="confluenceTd" colspan="1">logsegment</td><td class="confluenceTd" colspan="1">The segment content identifier (prefixed with "seg". The master always has a content id of -1).</td></tr><tr><td class="confluenceTd" colspan="1">logslice</td><td class="confluenceTd" colspan="1">The slice id (portion of the query plan being executed).</td></tr><tr><td class="confluenceTd" colspan="1">logdistxact</td><td class="confluenceTd" colspan="1">Distributed transaction id.</td></tr><tr><td class="confluenceTd" colspan="1">loglocalxact</td><td class="confluenceTd" colspan="1">Local transaction id.</td></tr><tr><td class="confluenceTd" colspan="1">logsubxact</td><td class="confluenceTd" colspan="1">Subtransaction id.</td></tr><tr><td class="confluenceTd" colspan="1">logseverity</td><td class="confluenceTd" colspan="1">LOG, ERROR, FATAL, PANIC, DEBUG1 or DEBUG2.</td></tr><tr><td class="confluenceTd" colspan="1">logstate</td><td class="confluenceTd" colspan="1">SQL state code associated with the log message.</td></tr><tr><td class="confluenceTd" colspan="1">logmessage</td><td class="confluenceTd" colspan="1">Log or error message text.</td></tr><tr><td class="confluenceTd" colspan="1">logdetail</td><td class="confluenceTd" colspan="1">Detail message test associated with an error message.</td></tr><tr><td class="confluenceTd" colspan="1">loghint</td><td class="confluenceTd" colspan="1">Hint message test associated with an error message.</td></tr><tr><td class="confluenceTd" colspan="1">logquery</td><td class="confluenceTd" colspan="1">The internally-generated query text.</td></tr><tr><td class="confluenceTd" colspan="1">logquerypos</td><td class="confluenceTd" colspan="1">The cursor index into the internally-generated query text.</td></tr><tr><td class="confluenceTd" colspan="1">logcontext</td><td class="confluenceTd" colspan="1">The context in which this message gets generated.</td></tr><tr><td class="confluenceTd" colspan="1">logdebug</td><td class="confluenceTd" colspan="1">Query string with full detail for debugging.</td></tr><tr><td class="confluenceTd" colspan="1">logcursorpos</td><td class="confluenceTd" colspan="1">The cursor index into the query string.</td></tr><tr><td class="confluenceTd" colspan="1">logfunction</td><td class="confluenceTd" colspan="1">The function in which this message is generated.</td></tr><tr><td class="confluenceTd" colspan="1">logfile</td><td class="confluenceTd" colspan="1">The log file in which this message is generated.</td></tr><tr><td class="confluenceTd" colspan="1">logline</td><td class="confluenceTd" colspan="1">The line in the log file in which this message is generated.</td></tr><tr><td class="confluenceTd" colspan="1">logstack</td><td class="confluenceTd" colspan="1">Full text of the stack trace associated with this message.</td></tr></tbody></table></div><h2 id="hawq_toolkitReference-CheckingforTablesthatRequireRoutineMaintenance">Checking for Tables that Require Routine Maintenance</h2><h3 id="hawq_toolkitReference-hawq_stats_missing">hawq_stats_missing</h3><p>This view shows tables that do not have statistics and therefore may require an ANALYZE be run on the table.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">smischema</td><td class="confluenceTd">The schema name.</td></tr><tr><td class="confluenceTd">smitable</td><td class="confluenceTd">The table name.</td></tr><tr><td class="confluenceTd">smisize</td><td class="confluenceTd"><p>Does this table have statistics? False if the table does not have row count and row sizing statistics recorded</p><p>in the system catalog, which may indicated that the tables needs to be analyzed. This will also be false if the</p><p>table does not contain any rows. For example, parent tables of partitioned tables are always empty and will</p><p>always return a false result.</p></td></tr><tr><td class="confluenceTd">smicols</td><td class="confluenceTd">The number of columns in the table.</td></tr><tr><td class="confluenceTd">smirecs</td><td class="confluenceTd">The number of rows in the table.</td></tr></tbody></table></div><h2 id="hawq_toolkitReference-CheckingDatabaseObjectSizesandDiskSpace">Checking Database Object Sizes and Disk Space</h2><h3 id="hawq_toolkitReference-hawq_size_of_table_disk">hawq_size_of_table_disk</h3><p>This view shows the size of a table on disk. This view is accessible to all users, however non-superusers will only be able to see tables that they have permissions to access.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">sotdoid</td><td class="confluenceTd">The object ID of the table.</td></tr><tr><td class="confluenceTd">sotdsize</td><td class="confluenceTd"><p>The total size of the table in bytes (main relation, plus oversized (toast) attributes, plus additional storage objects</p><p>for AO tables.</p></td></tr><tr><td class="confluenceTd">sotdtoastsize</td><td class="confluenceTd">The size of the TOAST table (oversized attribute storage), if there is one.</td></tr><tr><td class="confluenceTd">sotdadditionalsize</td><td class="confluenceTd">Reflects the segment and block directory table sizes for append-only (AO) tables.</td></tr><tr><td class="confluenceTd">sotdschemaname</td><td class="confluenceTd">The schema name.</td></tr><tr><td class="confluenceTd">sotdtablename</td><td class="confluenceTd">The table name.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_size_of_table_uncompressed">hawq_size_of_table_uncompressed</h3><p>This view shows the uncompressed table size for append-only (AO) tables. Otherwise, the table size on disk is shown. The use of this view requires superuser permissions.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">sotuoid</td><td class="confluenceTd">The object ID of the table.</td></tr><tr><td class="confluenceTd">sotusize</td><td class="confluenceTd">The uncompressed size of the table in bytes if it is a compressed AO table. Otherwise, the table size on disk.</td></tr><tr><td class="confluenceTd">sotuschemaname</td><td class="confluenceTd">The schema name.</td></tr><tr><td class="confluenceTd">sotutablename</td><td class="confluenceTd">The table name.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_size_of_table_and_indexes_disk">hawq_size_of_table_and_indexes_disk</h3><p>This view shows the size on disk of tables and their indexes. This view is accessible to all users, however non-superusers will only be able to see relations that they have permissions to access.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">sotaidoid</td><td class="confluenceTd">The object ID of the parent table.</td></tr><tr><td class="confluenceTd">sotaidtablesize</td><td class="confluenceTd">The disk size of the table.</td></tr><tr><td class="confluenceTd">sotaididsize</td><td class="confluenceTd">The total size of all indexes on the table.</td></tr><tr><td class="confluenceTd">sotaidschemaname</td><td class="confluenceTd">The name of the schema.</td></tr><tr><td class="confluenceTd">sotaidtablename</td><td class="confluenceTd">The name of the table.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_size_of_schema_disk">hawq_size_of_schema_disk</h3><p>This view shows schema sizes for the schemas in the current database. This view is accessible to all users, however non-superusers will only be able to see schemas that they have permissions to access.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">sosdnsp</td><td class="confluenceTd">The name of the schema.</td></tr><tr><td class="confluenceTd">sosdschematablesize</td><td class="confluenceTd">The total size of tables in the schema in bytes.</td></tr><tr><td class="confluenceTd">sosdschemaidxsize</td><td class="confluenceTd">The total size of indexes in the schema in bytes.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_size_of_table_and_indexes_licensing">hawq_size_of_table_and_indexes_licensing</h3><p>This view shows the total size of tables and their indexes for licensing purposes. The use of this view requires superuser permissions.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">sotailoid</td><td class="confluenceTd">The object ID of the table.</td></tr><tr><td class="confluenceTd">sotailtablesizedisk</td><td class="confluenceTd">The total disk size of the table.</td></tr><tr><td class="confluenceTd">sotailtablesizeuncompressed</td><td class="confluenceTd"><p>If the table is a compressed append-only table, shows the uncompressed table</p><p>size in bytes.</p></td></tr><tr><td class="confluenceTd">sotailindexessize</td><td class="confluenceTd">The total sizeof all indexes in the table.</td></tr><tr><td class="confluenceTd">sotailschemaname</td><td class="confluenceTd">The schema name.</td></tr><tr><td class="confluenceTd">sotailtablename</td><td class="confluenceTd">The table name.</td></tr></tbody></table></div><h3 id="hawq_toolkitReference-hawq_size_of_database">hawq_size_of_database</h3><p>This view shows the total size of a database. This view is accessible to all users, however non-superusers will only be able to see databases that they have permissions to access.</p><p>Note: In HAWQ, the data of a database consists of data stored in the local storage of the master, and data stored in HDFS. When the HDFS is online, the sodddatsize includes the sizes of both two kinds of data; while the HDFS is offline, the sodddatsize only includes the size of data stored in the local storage of the master.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Column</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">sodddatname</td><td class="confluenceTd">The name of the database.</td></tr><tr><td class="confluenceTd">sodddatsize</td><td class="confluenceTd">The size of the database in bytes.</td></tr></tbody></table></div>
</div></div>


            </div><!-- end of body-container content-->
          </div><!-- end of container -->
        </div><!--end of container-fluid-->
      </div><!--end of main-wrap-->

      <div class="site-footer desktop-only">
          <div class="container-fluid">
              <div class="site-footer-links">
                  <span class="version"><a href='/'>Pivotal Documentation</a></span>
                  <span>&copy;
                      <script>
                          var d = new Date();
                          document.write(d.getFullYear());
                      </script>
                      <a href='http://gopivotal.com'>Pivotal Software</a> Inc. All Rights Reserved.
                  </span>
              </div>
          </div>
      </div>

      <script type="text/javascript">
          (function() {
              var didInit = false;
              function initMunchkin() {
                  if(didInit === false) {
                      didInit = true;
                      Munchkin.init('625-IUJ-009');
                  }
              }
              var s = document.createElement('script');
              s.type = 'text/javascript';
              s.async = true;
              s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
              s.onreadystatechange = function() {
                  if (this.readyState == 'complete' || this.readyState == 'loaded') {
                      initMunchkin();
                  }
              };
              s.onload = initMunchkin;
              document.getElementsByTagName('head')[0].appendChild(s);
          })();
      </script>
  </div><!--end of viewport-->
  <div id="scrim"></div>
</body>
</html>